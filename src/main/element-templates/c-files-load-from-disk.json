[
  {
    "$schema": "https://unpkg.com/@camunda/zeebe-element-templates-json-schema/resources/schema.json",
    "name": "Load file from disk",
    "id": "io.camunda.connector.Template.v1",
    "description": "Load a file from the disk system, and save it. Different implementation to save it.",
    "documentationRef": "https://docs.camunda.io/docs/components/modeler/web-modeler/connectors/available-connectors/template/",
    "icon": {
      "contents": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18.0' viewBox='0 0 18 18.0' %3E%3Cpath d='M 16.7328 13.29858 c -0.14760001 1.8864,-1.6524001 2.7918003,-1.9584001 2.9574 c -1.6290001 0.88920003,-4.3704004 0.57960004,-5.6952 -1.2852 c -0.73080003 -1.026,-1.098 -2.6586,-0.38700002 -3.789 l 0.009000001 -0.018000001 c 0.2556 -0.4158,0.8478 -1.1178,1.9404 -1.1412001 h 0.0396 c 0.39060003 0.0,0.8406001 0.11880001,1.2384001 0.22320001 c 0.279 0.073800005,0.5202 0.1368,0.7002 0.1494 c 0.113400005 0.0072000003,0.2754 -0.0216,0.48060003 -0.057600003 c 0.61380005 -0.10800001,1.6380001 -0.28800002,2.5344 0.3456 C 16.8552 11.548981,16.74 13.22838,16.7328 13.29858 z' fill='%23AA0000'/%3E%3Cpath d='M 9.2718 10.287181 c -0.351 0.2484,-0.58320004 0.5562,-0.72360003 0.783 l -0.009000001 0.014400001 c -0.36360002 0.57960004,-0.4644 1.2528001,-0.39600003 1.9116 c -0.0072000003 0.0036000002,-0.014400001 0.0072000003,-0.0198 0.012600001 c -1.3338001 1.0890001,-2.8404 0.8082,-3.4254003 0.6372 l -0.0342 -0.009000001 c -1.8630002 -0.4644,-3.7026 -2.4768002,-3.3642 -4.6206 c 0.1872 -1.1808001,1.08 -2.538,2.4264 -2.8476 c 0.2322 -0.054000005,1.4454 -0.279,2.421 0.5382 c 0.2988 0.252,0.5202 0.61920005,0.7146 0.9432 c 0.1386 0.234,0.2592 0.43380004,0.39060003 0.56520003 c 0.0846 0.0846,0.2322 0.1674,0.4194 0.2736 c 0.549 0.30780002,1.3770001 0.77400005,1.5930002 1.7784001 C 9.2664 10.274581,9.268201 10.28178,9.2718 10.287181 z' fill='%23AA0000'/%3E%3Cpath d='M 12.9294 10.18638 c -0.1062 0.018000001,-0.19980001 0.030600002,-0.2664 0.030600002 c -0.0108 0.0,-0.0216 -0.0018000001,-0.030600002 -0.0018000001 c -0.050400004 -0.0036000002,-0.1098 -0.0108,-0.1728 -0.0234 c 0.5526 -1.4112,0.78120005 -3.6684,-1.1394 -6.5268 c -0.0036000002 -0.0072000003,-0.009000001 -0.012600001,-0.0162 -0.018000001 c 0.111600004 -0.44280002,0.1494 -0.7524,0.1584 -0.828 c 0.0054 -0.050400004,-0.030600002 -0.0936,-0.0792 -0.09900001 c -0.050400004 -0.0072000003,-0.0936 0.030600002,-0.09900001 0.0792 c -0.0216 0.19260001,-0.23760001 1.9296001,-1.4490001 3.4722004 c -0.75780004 0.96480006,-1.9512001 1.6830001,-2.3634002 1.8882 c -0.0378 -0.025200002,-0.0702 -0.050400004,-0.091800004 -0.072000004 c -0.059400003 -0.059400003,-0.117 -0.1368,-0.1764 -0.22860001 c 0.0342 -0.018000001,0.0702 -0.0378,0.10800001 -0.057600003 c 0.43020004 -0.23040001,1.1502 -0.61380005,2.0286002 -1.5336001 c 1.0386001 -1.0872,1.2366 -2.7522001,0.94500005 -3.2058 c -0.1404 -0.2196,-0.36540002 -0.24120001,-0.5454 -0.2574 c -0.2358 -0.0198,-0.378 -0.0342,-0.40320003 -0.3546 c -0.0234 -0.279,0.10800001 -0.5256,0.36900002 -0.6912 c 0.351 -0.22500001,0.97920007 -0.29700002,1.5876 0.048600003 c 0.3798 0.21420002,0.3762 0.57960004,0.3744 0.9324 c -0.0018000001 0.2358,-0.0036000002 0.45900002,0.113400005 0.61920005 l 0.050400004 0.0684 c 0.28800002 0.39060003,0.96120006 1.3014001,1.3644 2.8908 C 13.626 8.01918,13.219201 9.56898,12.9294 10.18638 z' fill='%23502D16' /%3E%3Cpath d='M 7.6338 2.8045802 c -0.014400001 0.0072000003,-0.028800001 0.0108,-0.0432 0.0108 c -0.0324 0.0,-0.063 -0.018000001,-0.0792 -0.0468 c -0.0018000001 -0.0018000001,-0.1278 -0.22680001,-0.3546 -0.43380004 c -0.0378 -0.0324,-0.0396 -0.09,-0.0072000003 -0.126 c 0.0342 -0.0378,0.09 -0.0396,0.1278 -0.0072000003 c 0.2502 0.22680001,0.38520002 0.4698,0.39060003 0.48060003 C 7.6932006 2.7253802,7.6770005 2.77938,7.6338 2.8045802 z'/%3E%3Cpath d='M 7.8156 4.51998 c -0.1872 0.22140001,-0.28440002 0.261,-0.43200004 0.3204 l -0.0468 0.0198 c -0.0108 0.0054,-0.0234 0.0072000003,-0.0342 0.0072000003 c -0.036000002 0.0,-0.0684 -0.0216,-0.08280001 -0.055800002 c -0.0198 -0.045,0.0018000001 -0.09900001,0.048600003 -0.117 l 0.0468 -0.0198 c 0.135 -0.055800002,0.2034 -0.0846,0.36360002 -0.27 c 0.0324 -0.0396,0.09 -0.0432,0.1278 -0.0108 C 7.8444004 4.42638,7.848 4.48218,7.8156 4.51998 z'/%3E%3Cpath d='M 10.134 3.1591802 c -0.0468 -0.073800005,-0.10800001 -0.113400005,-0.1764 -0.135 c -0.23940001 0.3222,-1.0818001 0.81,-1.9278 0.81 c -0.22500001 0.0,-0.45180002 -0.0342,-0.666 -0.115200005 c -0.57600003 -0.2196,-0.9702 -0.5256,-1.3518001 -0.8208 c -0.3024 -0.2358,-0.58860004 -0.45720002,-0.93780005 -0.60840005 c -0.0468 -0.0216,-0.0666 -0.073800005,-0.0468 -0.11880001 c 0.0198 -0.0468,0.072000004 -0.0666,0.11880001 -0.0468 c 0.36900002 0.162,0.6642 0.38880002,0.97560006 0.6318 c 0.37080002 0.28800002,0.756 0.58500004,1.3050001 0.7938 c 0.5598 0.2124,1.1880001 0.073800005,1.6650001 -0.1404 c -0.2052 -0.6336,-1.5318002 -2.5614,-3.7188 -2.0700002 c -0.3384 0.0756,-0.6336 0.14580001,-0.89280003 0.207 c -1.098 0.2574,-1.5678 0.36720002,-2.0556002 0.23760001 c 0.045 0.22680001,0.16380002 0.4194,0.3528 0.57420003 c 0.378 0.30420002,0.92700005 0.3798,1.1880001 0.38340002 c -0.1332 -0.1512,-0.2754 -0.2484,-0.45000002 -0.30960003 c -0.0468 -0.0162,-0.072000004 -0.0666,-0.055800002 -0.113400005 c 0.0162 -0.048600003,0.0684 -0.072000004,0.115200005 -0.055800002 c 0.56700003 0.19980001,0.828 0.7074,1.2492001 1.7424002 c 0.441 1.0836,1.9836001 2.0934,3.2346 1.7190001 c 1.2744 -0.3816,1.2528001 -1.7244,1.251 -1.7388 c 0.0 -0.036000002,0.0216 -0.0702,0.054000005 -0.0846 c 0.0846 -0.0378,0.5184 -0.2358,0.8244 -0.5238 c 0.0054 -0.0054,0.0108 -0.009000001,0.0162 -0.009000001 v -0.0018000001 C 10.1898 3.27798,10.1646 3.20778,10.134 3.1591802 M 7.1496005 2.20878 c 0.0342 -0.0378,0.09 -0.0396,0.1278 -0.0072000003 c 0.2502 0.22680001,0.38520002 0.4698,0.39060003 0.48060003 c 0.025200002 0.0432,0.009000001 0.097200006,-0.0342 0.12240001 c -0.014400001 0.0072000003,-0.028800001 0.0108,-0.0432 0.0108 c -0.0324 0.0,-0.063 -0.018000001,-0.0792 -0.0468 c -0.0018000001 -0.0018000001,-0.1278 -0.22680001,-0.3546 -0.43380004 C 7.119 2.30238,7.1172004 2.24478,7.1496005 2.20878 M 5.6340003 3.43458 c -0.0036000002 0.0,-0.055800002 0.009000001,-0.1584 0.009000001 c -0.081 0.0,-0.1908 -0.0054,-0.33120003 -0.0234 c -0.050400004 -0.0054,-0.0846 -0.050400004,-0.07740001 -0.10080001 c 0.0054 -0.048600003,0.050400004 -0.08280001,0.10080001 -0.07740001 c 0.29160002 0.0378,0.43380004 0.0162,0.43560004 0.0162 c 0.048600003 -0.009000001,0.0954 0.0234,0.1026 0.073800005 C 5.715 3.3805802,5.6826 3.4255803,5.6340003 3.43458 M 7.8156 4.51998 c -0.1872 0.22140001,-0.28440002 0.261,-0.43200004 0.3204 l -0.0468 0.0198 c -0.0108 0.0054,-0.0234 0.0072000003,-0.0342 0.0072000003 c -0.036000002 0.0,-0.0684 -0.0216,-0.08280001 -0.055800002 c -0.0198 -0.045,0.0018000001 -0.09900001,0.048600003 -0.117 l 0.0468 -0.0198 c 0.135 -0.055800002,0.2034 -0.0846,0.36360002 -0.27 c 0.0324 -0.0396,0.09 -0.0432,0.1278 -0.0108 C 7.8444004 4.42638,7.848 4.48218,7.8156 4.51998 z' fill='%23008000' /%3E%3Cpath d='M 5.7060003 3.33198 c 0.009000001 0.048600003,-0.0234 0.0936,-0.072000004 0.1026 c -0.0036000002 0.0,-0.055800002 0.009000001,-0.1584 0.009000001 c -0.081 0.0,-0.1908 -0.0054,-0.33120003 -0.0234 c -0.050400004 -0.0054,-0.0846 -0.050400004,-0.07740001 -0.10080001 c 0.0054 -0.048600003,0.050400004 -0.08280001,0.10080001 -0.07740001 c 0.29160002 0.0378,0.43380004 0.0162,0.43560004 0.0162 C 5.652 3.2491803,5.6988 3.2815802,5.7060003 3.33198 z'/%3E%3C/svg%3E"
    },
    "category": {
      "id": "connectors",
      "name": "Connectors"
    },
    "appliesTo": [
      "bpmn:Task"
    ],
    "elementType": {
      "value": "bpmn:ServiceTask"
    },
    "groups": [
      {
        "id": "InputFile",
        "label": "Input File"
      },
      {
        "id": "StorageProperties",
        "label": "Storage properties"
      },
      {
        "id": "OutputInformation",
        "label": "Output information"
      }
    ],
    "properties": [
      {
        "type": "Hidden",
        "value": "c-files-load-from-disk",
        "binding": {
          "type": "zeebe:taskDefinition:type"
        }
      },
      {
        "id": "folderId",
        "label": "Folder",
        "group": "InputFile",
        "description": "Specify the folder where the file will be loaded. Must be visible from the server.",
        "type": "String",
        "binding": {
          "type": "zeebe:taskHeader",
          "key": "folder"
        },
        "constraints": {
          "notEmpty": true
        }
      },
      {
        "id": "fileNameId",
        "group": "InputFile",
        "label": "File Name",
        "description": "Specify a file name, else the first file in the folder will be loaded",
        "type": "String",
        "binding": {
          "type": "zeebe:taskHeader",
          "key": "fileName"
        }
      },
      {
        "id": "filterFileId",
        "group": "InputFile",
        "label": "Filter file",
        "description": "If you didn't specify a fileName, a filter to select only part of files present in the folder",
        "type": "String",
        "binding": {
          "type": "zeebe:taskHeader",
          "key": "filterFile"
        }
      },
      {
        "id": "policyId",
        "group": "InputFile",
        "label": "Policy after loading",
        "description": "Policy to manipulate the file after loading. Policy are",
        "type": "Dropdown",
        "choices": [
          {
            "name": "DELETE",
            "value": "DELETE"
          },
          {
            "name": "ARCHIVE",
            "value": "ARCHIVE"
          },
          {
            "name": "UNCHANGE",
            "value": "UNCHANGE"
          }
        ],
        "binding": {
          "type": "zeebe:taskHeader",
          "key": "policy"
        }
      },
      {
        "id": "archiveFolderId",
        "group": "InputFile",
        "label": "Archive folder",
        "description": "With the policy ARCHIVE. File is moved in this folder.",
        "type": "String",
        "condition": {
          "property": "policyId",
          "oneOf": ["ARCHIVE"]
        },
        "binding": {
          "type": "zeebe:taskHeader",
          "key": "archiveFolder"
        }
      },
      {
        "id": "storageDefinitionId",
        "group": "StorageProperties",
        "label": "Storage definition",
        "description": "How to saved the file.",
        "type": "Dropdown",
        "choices": [
          {
            "name": "JSON",
            "value": "JSON"
          },
          {
            "name": "FOLDER",
            "value": "FOLDER"
          },
          {
            "name": "TEMPFOLDER",
            "value": "TEMPFOLDER"
          }
        ],
        "binding": {
          "type": "zeebe:taskHeader",
          "key": "storageDefinition"
        }
      },
      {
        "id": "storageDefinitionComplementId",
        "group": "StorageProperties",
        "label": "Storage definition complement",
        "description": "Complement to the Storage definition, if needed. FOLDER: please provide the folder to save the file",
        "type": "String",
        "condition": {
          "property": "storageDefinitionId",
          "oneOf": ["TEMPFOLDER"]
        },
        "constraints": {
          "notEmpty": true
        },
        "binding": {
          "type": "zeebe:taskHeader",
          "key": "storageDefinitionComplement"
        }
      },
      {
        "id": "fileLoadedId",
        "group": "OutputInformation",
        "label": "File loaded",
        "description": "Content of the file, according the storage definition",
        "type": "String",
        "binding": {
          "type": "zeebe:output",
          "source": "=fileLoaded"
        }
      },
      {
        "id": "fileNameLoadedId",
        "group": "OutputInformation",
        "label": "Name of the file loaded",
        "description": "File name",
        "type": "String",
        "binding": {
          "type": "zeebe:output",
          "source": "=fileNameLoaded"
        }
      },
      {
        "id": "fileMimeTypeId",
        "group": "OutputInformation",
        "label": "File Mime type",
        "description": "MimeType of the loaded file",
        "type": "String",
        "binding": {
          "type": "zeebe:output",
          "source": "=fileMimeType"
        }

      }
    ]
  }
]